(()=>{"use strict";var e,t={153:(e,t,a)=>{const c=window.wp.blocks,l=JSON.parse('{"UU":"woo-product-table/tab-product-table"}'),n=window.wp.blockEditor,s=window.wp.components,o=window.wp.element,r=window.wp.apiFetch;var i=a.n(r);const d=window.ReactJSXRuntime,b=(0,d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 24 24",children:[(0,d.jsx)("path",{fill:"#fff",d:"M.42,1.14v21.41c0,.6.49,1.09,1.09,1.09h20.94c.6,0,1.09-.49,1.09-1.09V4.41c0-1.35-1.09-2.45-2.45-2.45h-3.63l-.42,1.26-1.3-1.26h-4.56l-.11,1.43-1.81-1.43h-4.3v-.82c0-.41-.33-.75-.75-.75H1.16c-.41,0-.75.33-.75.75h0Z"}),(0,d.jsx)("path",{fill:"#323a47",d:"M19.58,9.38h-8.52c-.22,0-.4-.18-.4-.4h0c0-.22.18-.4.4-.4h8.52c.22,0,.4.18.4.4h0c0,.22-.18.4-.4.4ZM17.45,10.44h0c0-.22-.18-.4-.4-.4h-6c-.22,0-.4.18-.4.4h0c0,.22.18.4.4.4h6c.22,0,.4-.18.4-.4ZM13.19,11.89h0c0-.22-.18-.4-.4-.4h-1.74c-.22,0-.4.18-.4.4h0c0,.22.18.4.4.4h1.74c.22,0,.4-.18.4-.4ZM23.95,4.69v17.99c0,.73-.59,1.33-1.33,1.33H1.33c-.73,0-1.33-.59-1.33-1.33V1.36C0,.63.59.03,1.33.03h2.72c.73,0,1.33.59,1.33,1.33v.05h2.91c1.03,0,1.95.48,2.56,1.23v-1.23h3.64c1.03,0,1.95.48,2.56,1.23v-1.23h3.64c1.81,0,3.28,1.47,3.28,3.28h0ZM17.75,4.32h5.44c-.18-1.24-1.24-2.19-2.53-2.19h-2.91v2.19ZM11.56,4.32h5.44c-.18-1.24-1.24-2.19-2.53-2.19h-2.91v2.19ZM8.28,2.13h-2.91v2.07c0,.07.05.12.12.12h5.32c-.18-1.24-1.24-2.19-2.53-2.19h0ZM17.36,23c.39.11.8.17,1.22.17s.83-.06,1.22-.17c0,0,.02,0,.03,0,.21-.06.42-.14.62-.23,1.56-.71,2.64-2.28,2.64-4.11,0-.78-.2-1.52-.55-2.17-.14-.26-.3-.5-.49-.72-.83-.99-2.07-1.63-3.47-1.63s-2.64.63-3.46,1.63c-.33.4-.6.86-.78,1.36,0,.02-.01.04-.02.05-.16.46-.25.96-.25,1.47,0,1.82,1.07,3.38,2.62,4.1.21.1.44.18.67.25h0ZM23.22,22.67v-1.56c-.49.92-1.24,1.67-2.15,2.16h1.55c.33,0,.6-.27.6-.6ZM23.22,5.05H5.49c-.46,0-.84-.38-.84-.84V1.36c0-.33-.27-.6-.6-.6H1.33c-.33,0-.6.27-.6.6v21.32c0,.33.27.6.6.6h14.78c-1.65-.89-2.77-2.62-2.77-4.62,0-2.9,2.35-5.25,5.25-5.25,2.01,0,3.75,1.13,4.63,2.79V5.05h0ZM2.37,1.24c-.12,0-.22.1-.22.22s.1.22.22.22.22-.1.22-.22-.1-.22-.22-.22ZM3.19,1.24c-.12,0-.22.1-.22.22s.1.22.22.22.22-.1.22-.22-.1-.22-.22-.22ZM4,1.24c-.12,0-.22.1-.22.22s.1.22.22.22.22-.1.22-.22-.1-.22-.22-.22ZM16.82,21.42c-.34-.04-.58-.34-.57-.68l.23-3.44c0-.3.31-.61.61-.61h.28c-.02-.36.05-.71.28-.99.49-.58,1.38-.59,1.88,0,.24.28.31.63.29,1h.28c.11,0,.31.09.4.17.2.18.21.4.23.65.09,1.08.12,2.16.22,3.24,0,.3-.18.58-.47.66-1.21.05-2.42,0-3.64.02h0ZM19.69,18.13c.07-.18-.07-.33-.26-.29-.11.02-.18.21-.25.3-.31.36-.88.35-1.19,0-.12-.14-.13-.34-.37-.29-.11.02-.16.14-.14.25.04.29.5.62.76.7.54.16,1.26-.1,1.46-.65h0Z"}),(0,d.jsx)("path",{fill:"#00cde2",d:"M7.22,12.65h-2.09c-.64,0-1.16-.52-1.16-1.16v-2.09c0-.64.52-1.16,1.16-1.16h2.09c.64,0,1.16.52,1.16,1.16v2.09c0,.64-.52,1.16-1.16,1.16h0ZM18.66,15.69c-.42-.03-.87.3-.87.73v.26h1.59v-.26c0-.37-.36-.71-.72-.73ZM22.54,16.49c-.14-.26-.3-.5-.49-.72-.83-.99-2.07-1.63-3.47-1.63s-2.64.63-3.46,1.63c-.33.4-.6.86-.78,1.36,0,.02-.01.04-.02.05-.16.46-.25.96-.25,1.47,0,1.82,1.07,3.38,2.62,4.1.21.1.44.18.67.25.39.11.8.17,1.22.17s.83-.06,1.22-.17c0,0,.02,0,.03,0,.21-.06.42-.14.62-.23,1.56-.71,2.64-2.28,2.64-4.11,0-.78-.2-1.52-.55-2.17h0ZM20.46,21.4c-1.21.05-2.42,0-3.64.02-.34-.04-.58-.34-.57-.68l.23-3.44c0-.3.31-.61.61-.61h.28c-.02-.36.05-.71.28-.99.49-.58,1.38-.59,1.88,0,.24.28.31.63.29,1h.28c.11,0,.31.09.4.17.2.18.21.4.23.65.09,1.08.12,2.16.22,3.24,0,.3-.18.58-.47.66h0Z"})]});(0,c.registerBlockType)(l.UU,{icon:{src:b,foreground:"transparent"},attributes:{tabs:{type:"array",default:[{title:"Table 1",table_id:0,pre_content:"",post_content:""},{title:"Table 2",table_id:0,pre_content:"",post_content:""}]},activeTab:{type:"number",default:0},selectedTab:{type:"number",default:0},styles:{type:"array",default:{borderColor:"#000000",tabBgColor:"#ffffff",tabTextColor:"#000000",tabActiveBgColor:"#f0f0f0",tabActiveTextColor:"#000000"}},fontSize:{type:"string",default:"16px"}},edit:function({attributes:e,setAttributes:t}){const{tabs:a,activeTab:c,selectedTab:l}=e,r=(0,n.useBlockProps)({className:"wpt-block-backend-tab"}),[b,h]=(0,o.useState)([]),[v,p]=(0,o.useState)(!0);(0,o.useEffect)((()=>{i()({path:"/wp/v2/wpt_product_table"}).then((e=>{const t=e.map((e=>({label:e.title.rendered,value:e.id})));h(t),p(!1)}))}),[]);const u=(0,d.jsxs)("div",{className:"tab-content",children:[(0,d.jsx)("span",{className:"wpt-block-spinner",children:"Loading..."}),"(Have you created your table?)"]}),f=(e,c,l)=>{const n=[...a];n[e][c]=l,t({tabs:n})},m=a.map(((e,t)=>({label:e.title,value:t})));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.InspectorControls,{children:(0,d.jsx)(s.PanelBody,{title:"Settings",children:(0,d.jsx)(s.SelectControl,{label:"Selected Tab",value:e.selectedTab,options:[...m],onChange:e=>t({selectedTab:parseInt(e)}),disabled:!1})})}),(0,d.jsxs)("div",{...r,children:[(0,d.jsxs)("div",{className:"tab-titles",children:[a.map(((e,a)=>(0,d.jsx)(n.RichText,{tagName:"span",className:`tab-title-single ${a===l?"selected":""} ${a===c?"active":""}`,placeholder:`Tab ${a+1} Title`,value:e.title,onClick:()=>t({activeTab:a}),onChange:e=>f(a,"title",e)},a))),(0,d.jsx)(s.Button,{variant:"secondary",onClick:()=>{const e=[...a,{title:`Tab ${a.length+1}`,table_id:""}];t({tabs:e,activeTab:a.length})},children:"+ Add"}),(0,d.jsxs)(s.Button,{variant:"tertiary",title:`Remove current tab - ${a[c]?.title}`,className:"remove-tab",onClick:()=>{if(a.length>2){if(!confirm("Are you sure you want to remove this tab?"))return;c===l&&t({selectedTab:0});const e=a.filter(((e,t)=>t!==c));t({tabs:e}),t({activeTab:a.length>1?Math.max(c-1,0):0})}else alert("You must have at least two tabs.")},children:["-",a[c]?.title]})]}),(0,d.jsx)("div",{className:"tab-edit",children:v?u:(0,d.jsxs)("div",{className:"tab-content",children:[(0,d.jsx)(n.RichText,{tagName:"div",className:"before-table-content",value:a[c]?.pre_content,onChange:e=>f(c,"pre_content",e),placeholder:"Optional content before Table..."}),(0,d.jsx)(s.SelectControl,{label:"Select a Product Table",className:"shortcode-control",value:a[c]?.table_id,options:[{label:"No Table Selected",value:0},...b],onChange:e=>f(c,"table_id",e),disabled:v}),(0,d.jsx)(n.RichText,{tagName:"div",className:"after-table-content",value:a[c]?.post_content,onChange:e=>f(c,"post_content",e),placeholder:"Optional content after Table..."})]})})]})]})},save:function({attributes:e}){const{tabs:t}=e,a=n.useBlockProps.save({className:"wpt-block-front-tab"});return(0,d.jsxs)("div",{...a,children:[(0,d.jsx)("ul",{className:"tab-buttons",children:t.map(((t,a)=>(0,d.jsx)("li",{className:"tab-button "+(a===e.selectedTab?"active-tab":""),"data-tab":a,children:t.title},a)))}),(0,d.jsx)("div",{className:"tab-contents",children:t.map(((t,a)=>(0,d.jsxs)("div",{className:"tab-content "+(a===e.selectedTab?"active-tab":""),"data-tab":a,children:[(0,d.jsx)(n.RichText.Content,{tagName:"div",className:"tab-inside-pre-content",value:t.pre_content?t.pre_content:null}),(0,d.jsx)(n.RichText.Content,{tagName:"div",className:"tab-inside-table-wrapper",value:parseInt(t.table_id)>0?`[Product_Table id='${t.table_id}']`:""}),(0,d.jsx)(n.RichText.Content,{tagName:"div",className:"tab-inside-post-content",value:t.post_content?t.post_content:null})]},a)))})]})}})}},a={};function c(e){var l=a[e];if(void 0!==l)return l.exports;var n=a[e]={exports:{}};return t[e](n,n.exports,c),n.exports}c.m=t,e=[],c.O=(t,a,l,n)=>{if(!a){var s=1/0;for(d=0;d<e.length;d++){for(var[a,l,n]=e[d],o=!0,r=0;r<a.length;r++)(!1&n||s>=n)&&Object.keys(c.O).every((e=>c.O[e](a[r])))?a.splice(r--,1):(o=!1,n<s&&(s=n));if(o){e.splice(d--,1);var i=l();void 0!==i&&(t=i)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[a,l,n]},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var a in t)c.o(t,a)&&!c.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={116:0,84:0};c.O.j=t=>0===e[t];var t=(t,a)=>{var l,n,[s,o,r]=a,i=0;if(s.some((t=>0!==e[t]))){for(l in o)c.o(o,l)&&(c.m[l]=o[l]);if(r)var d=r(c)}for(t&&t(a);i<s.length;i++)n=s[i],c.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return c.O(d)},a=globalThis.webpackChunksaiful_block=globalThis.webpackChunksaiful_block||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var l=c.O(void 0,[84],(()=>c(153)));l=c.O(l)})();